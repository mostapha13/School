#pragma checksum "C:\Users\mostapha\source\repos\IranSmartSchool\SchoolSystem\Views\Home\IndexPartial\SchoolPreview.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ceaaabebfd5c634d47ff6ccd07952bc7d080d128"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_IndexPartial_SchoolPreview), @"mvc.1.0.view", @"/Views/Home/IndexPartial/SchoolPreview.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 2 "C:\Users\mostapha\source\repos\IranSmartSchool\SchoolSystem\Views\_ViewImports.cshtml"
using SchoolSystem.Models.Home;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\mostapha\source\repos\IranSmartSchool\SchoolSystem\Views\_ViewImports.cshtml"
using SchoolSystem.Models.Management;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ceaaabebfd5c634d47ff6ccd07952bc7d080d128", @"/Views/Home/IndexPartial/SchoolPreview.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"115745a9cdd022c73a79d01a0c8e65bb2248762e", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_IndexPartial_SchoolPreview : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"

<div id=""divFinal"" class=""col-12 d-none scrollingContent"">

    <style>

        .lable {
            display: block;
            font-weight: 600;
        }

        .cell-item {
            border: 2px solid rgb(192,189,208);
            padding: 5px;
            font-size: 16px;
            line-height: 30px;
            border-radius: 25px;
        }

    </style>

    <div class=""box-shadow"">

");
            WriteLiteral(@"
        <div class=""box-body"">

            <div class=""titleBox"">
                <h1>اطلاعات مدرسه</h1>
                <span></span>
            </div>

            <div class=""container-fluid  text-right"" style=""direction:rtl;"">

                <div class=""row"">

                    <div class=""col-4"">

                        <label class=""lable"">کد مدرسه</label>
                        <div id=""previewSchoolCode"" class=""cell-item"">");
            WriteLiteral("@Model.SchoolCode&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">عنوان مدرسه</label>\r\n                        <div id=\"previewName\" class=\"cell-item\">");
            WriteLiteral("@Model.Name&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">نوع</label>\r\n                        <div id=\"previewSubset\" class=\"cell-item\">");
            WriteLiteral(@"@Model.SubSet&nbsp;</div>

                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-4"">

                        <label class=""lable"">جنسیت</label>
                        <div id=""previewGender"" class=""cell-item"">");
            WriteLiteral("@Model.Gender&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">نوبت تحصیلی</label>\r\n                        <div id=\"previewStudyTime\" class=\"cell-item\">");
            WriteLiteral("@Model.StudyTime&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">دوره تحصیلی</label>\r\n                        <div id=\"previewPeriod\" class=\"cell-item\">");
            WriteLiteral(@"@Model.Period&nbsp;</div>

                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-4"">

                        <label class=""lable"">تعداد پایه تحصیلی</label>
                        <div id=""previewBasicCount"" class=""cell-item"">");
            WriteLiteral("@Model.BasicCount&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">تعداد معلم</label>\r\n                        <div id=\"previewTeacherCount\" class=\"cell-item\">");
            WriteLiteral("@Model.TeacherCount&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">تعداد دانش آموزان</label>\r\n                        <div id=\"previewStudentCount\" class=\"cell-item\">");
            WriteLiteral(@"@Model.StudentCount&nbsp;</div>

                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-4"">

                        <label class=""lable"">تلفن 1</label>
                        <div id=""previewTell1"" class=""cell-item"">");
            WriteLiteral("@Model.Tell1&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">تلفن 2</label>\r\n                        <div id=\"previewTell2\" class=\"cell-item\">");
            WriteLiteral("@Model.Tell2&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">تلفن 3</label>\r\n                        <div id=\"previewTell3\" class=\"cell-item\">");
            WriteLiteral(@"@Model.Tell3&nbsp;</div>

                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-4"">

                        <label class=""lable"">کدپستی</label>
                        <div id=""previewPostalCode"" class=""cell-item"">");
            WriteLiteral("@Model.PostalCode&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">اینترنت / سیار</label>\r\n                        <div id=\"previewMobileInternet\" class=\"cell-item\">");
            WriteLiteral("@Model.MobileInternet&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">اینترنت / ثابت</label>\r\n                        <div id=\"previewADSL\" class=\"cell-item\">");
            WriteLiteral(@"@Model.ADSL&nbsp;</div>
                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-4"">
                        <label class=""lable"">عکس 1</label>
                        <div id=""previewImage1"" style=""height: 200px;width: 100%;border: 1px solid gray;border-radius: 5px 5px;padding: 10px;background-repeat: no-repeat;background-size: 100% 100%;background-position: center;""></div>
                    </div>

                    <div class=""col-4"">
                        <label class=""lable"">عکس 2</label>
                        <div id=""previewImage2"" style=""height: 200px;width: 100%;border: 1px solid gray;border-radius: 5px 5px;padding: 10px;background-repeat: no-repeat;background-size: 100% 100%;background-position: center;""></div>
                    </div>

                    <div class=""col-4"">
                        <label class=""lable"">عکس 3</label>
                        <div id=""previewImage3"" style=""height: 200px;widt");
            WriteLiteral(@"h: 100%;border: 1px solid gray;border-radius: 5px 5px;padding: 10px;background-repeat: no-repeat;background-size: 100% 100%;background-position: center;""></div>
                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-12"">

                        <label class=""lable"">توضیحات</label>
                        <div id=""previewComment"" class=""cell-item"">");
            WriteLiteral(@"@Model.Comment&nbsp;</div>


                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-12"">

                        <label class=""lable"">موقعیت مدرسه روی نقشه</label>
                        <div id=""previewMap"" style=""margin:auto;height:500px;width:100%;""></div>

                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-4"">

                        <label class=""lable"">استان</label>
                        <div id=""previewOstanName"" class=""cell-item"">");
            WriteLiteral("@Model.OstanName&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">شهرستان</label>\r\n                        <div id=\"previewShahrestanName\" class=\"cell-item\">");
            WriteLiteral("@Model.ShahrestanName&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">بخش</label>\r\n                        <div id=\"previewBakhshName\" class=\"cell-item\">");
            WriteLiteral(@"@Model.BakhshName&nbsp;</div>

                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-4"">

                        <label class=""lable"">دهستان</label>
                        <div id=""previewDehestanName"" class=""cell-item"">");
            WriteLiteral("@Model.DehestanName&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">روستا</label>\r\n                        <div id=\"previewAbadiName\" class=\"cell-item\">");
            WriteLiteral("@Model.AbadiName&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">کد آماری</label>\r\n                        <div id=\"previewAmarcode\" class=\"cell-item\">");
            WriteLiteral(@"@Model.Amarcode&nbsp;</div>

                    </div>

                </div>
                <div class=""row"">

                    <div class=""col-4"">

                        <label class=""lable"">کد منطقه</label>
                        <div id=""previewAreaCode"" class=""cell-item"">");
            WriteLiteral("@Model.AreaCode&nbsp;</div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"col-4\">\r\n                        <label class=\"lable\">نام منطقه</label>\r\n                        <div id=\"previewAreaName\" class=\"cell-item\">");
            WriteLiteral(@"@Model.AreaName&nbsp;</div>

                    </div>

                    <div class=""col-4"">
                    </div>

                </div>

                <div class=""row"">

                    <div class=""col-12"">

                        <label class=""lable"">آدرس</label>
                        <div id=""previewAddress"" class=""cell-item"">");
            WriteLiteral(@"@Model.Address&nbsp;</div>

                    </div>

                </div>

                <div class=""row m-top"">
                    <div class=""col-12"">
                        <br />
                        <br />
                        <div style=""display:flex;flex-direction:row-reverse;justify-content:space-between;"">

                            <button id=""btnFinalSave"" class=""btn btn-lg btn-outline-primary"">ثبت نهایی</button>
                            <button class=""btn-prev btn btn-outline-warning btn-lg"">برگشت</button>

                        </div>

                    </div>
                </div>

            </div>

        </div>

    </div>
</div>


<script>

    $(""#btnFinalSave"").on(""click"", function () {

        $(this).attr(""disabled"", true);
        $(this).html('در حال پردازش <div class=""spinner-grow text-primary"" role=""status""></div>')

        var fd = new FormData();
        fd.append('MainCode', $(""#inputFormMainCode"").val());
        f");
            WriteLiteral(@"d.append('ManagerMobile', $(""#txtManagerMobile"").val());
        fd.append('ManagerName', $(""#txtFullName"").val());
        fd.append('ManagerNationalCode', $(""#txtNationalCode"").val());
        fd.append('Lat', mapLat.toString());
        fd.append('Lng', mapLng.toString());
        fd.append('Amarcode', $(""#divAmarcode"").html());
        fd.append('AreaCode', $(""#numAreaCode"").val());
        fd.append('AreaName', $(""#txtAreaName"").val());
        fd.append('Address', $(""#txtSchoolAddress"").val());
        fd.append('SchoolCode', $(""#inputFormSchoolCode"").val());
        fd.append('Name', $(""#inputFormSchoolName"").val());
        fd.append('SubSet', $(""#ddSchoolSubSet"").val());
        fd.append('Gender', $(""#ddSchoolGender"").val());
        fd.append('StudyTime', $(""#txtStudyTime"").val());
        fd.append('Period', $(""#txtPeriod"").val());
        fd.append('TeacherCount', $(""#numTeacherCount"").val());
        fd.append('StudentCount', $(""#numStudentCount"").val());
        fd.append('Tell");
            WriteLiteral(@"1', $(""#txtTell1"").val());
        fd.append('Tell2', $(""#txtTell2"").val());
        fd.append('Tell3', $(""#txtTell3"").val());
        fd.append('PostalCode', $(""#txtPostalCode"").val());
        fd.append('MobileInternet', $(""#ddMobileInternet"").val());
        fd.append('Adsl', $(""#ddAdsl"").val());
        fd.append('Comment', $(""#txtComment"").val());
        fd.append('BasicCount', $(""#numBasicCount"").val());

        var image1 = $('#divImage1').css('background-image').trim();
        if (image1 != 'none') {
            image1 = image1.substring(5, image1.length - 2);
            fd.append('Images', image1);
        }

        var image2 = $('#divImage2').css('background-image').trim();
        if (image2 != 'none') {
            image2 = image2.substring(5, image2.length - 2);
            fd.append('Images', image2);
        }

        var image3 = $('#divImage3').css('background-image').trim();
        if (image3 != 'none') {
            image3 = image3.substring(5, image3.length -");
            WriteLiteral(@" 2);
            fd.append('Images', image3);
        }

        $.ajax({
            headers: {
                ""Authorization"": token
            },
            url: ""/Home/SaveForm"",
            method: ""POST"",
            contentType: false,
            processData: false,
            data: fd,
            success: function (res) {

                resetEdit();

                Swal.fire({
                    title: '',
                    html: ""<span style='font-family:Behdad'><span style='font-size:15px;'>ضمن تشکر از همراهی شما، اطلاعات مدرسه در سامانه به روزرسانی اطلاعات مدارس سراسر کشور با موفقیت ثبت گردید</span></span>"",
                    type: 'success',
                    showCancelButton: false,
                    showConfirmButton: true,
                    confirmButtonText: ""بستن"",
                    onClose: () => {

                                             
                        $(""#divFinal"").addClass(""d-none"");
                        $(""#divFinal"").p");
            WriteLiteral(@"rev().prev().prev().removeClass(""d-none"");
                        nextStep(5);

                        //#####################################################################################################
                        $.ajax({
                            headers: {
                                ""Authorization"": token
                            },
                            url: ""/Home/GetAllSchoolByManagerMobile"",
                            method: ""POST"",
                            data: { mobile: schoolsManager.Mobile },
                            success: function (res) {

                                if (res != null && res.length > 0) {
                                    schoolsInfo = JSON.parse(JSON.stringify(res));

                                    gridData = [];
                                    $.each(schoolsInfo, function (index, item) {
                                        gridData.push({
                                            Code: item.Main");
            WriteLiteral(@"Code,
                                            Name: item.Name,
                                            //AmarCode : item.AmarCode,
                                            Ostan: item.Ostan_Name,
                                            IsCity: item.IsCity,
                                            //Shahrestan: item.Shahrestan_Name,
                                            //Bakhsh: item.Bakhsh_Name,
                                            //Dehestan: item.Dehestan_Name,
                                            //Abadi : item.Abadi_Name,
                                            Status: item.Status
                                        })
                                    });


                                    fillSchoolGrid(gridData);
                                }
                                else {
                                    Swal.fire({
                                        title: '',
                                        html: ""<spa");
            WriteLiteral(@"n style='font-family:Behdad;'><span style='font-size:18px;'>هیچگونه اطلاعاتی دریافت نشد</span></span>"",
                                        type: 'error',
                                        showCancelButton: false,
                                        showConfirmButton: false
                                    });
                                }
                            },
                            error: function (err) {

                                if (err.status == 401) {
                                    Swal.fire({
                                        title: '',
                                        html: ""<span style='font-family:Behdad;'><span style='font-size:18px;'>مدت زمان دسترسی شما به اتمام رسیده است لطفاً مجدد وارد سامانه شوید</span></span>"",
                                        type: 'error',
                                        showCancelButton: false,
                                        showConfirmButton: false,
                         ");
            WriteLiteral(@"               onClose: () => {
                                            location.reload();
                                        }
                                    });
                                }
                                else {
                                    Swal.fire({
                                        title: '',
                                        html: ""<span style='font-family:Behdad;'><span style='font-size:18px;'>بروز رسانی اطلاعات با خطا روبرو شد</span></span>"",
                                        type: 'error',
                                        showCancelButton: false,
                                        showConfirmButton: false
                                    });
                                }

                            }
                        });
                        //#####################################################################################################

                    }
                });

 ");
            WriteLiteral(@"           },
            error: function (err) {

                resetEdit();

                if (err.status == 401) {

                    Swal.fire({
                        title: '',
                        html: ""<span style='font-family:Behdad;'><span style='font-size:18px;'>مدت زمان دسترسی شما به اتمام رسیده است لطفاً مجدد وارد سامانه شوید</span></span>"",
                        type: 'error',
                        showCancelButton: false,
                        showConfirmButton: false,
                        onClose: () => {
                            location.reload();
                        }
                    });

                }
                else {

                    Swal.fire({
                        title: '',
                        html: ""<span style='font-family:Behdad;'><span style='font-size:18px;'>"" + ""خطا رخ داده است"" + ""</span></span>"",
                        type: 'error',
                        showCancelButton: false,
                   ");
            WriteLiteral("     showConfirmButton: false,\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n    });\r\n\r\n</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
